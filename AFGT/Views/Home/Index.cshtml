@model IEnumerable<AFGT.Models.Evento>

@{
    ViewBag.Title = "Home Page";
}

@using (Ajax.BeginForm("Index", "Home", new AjaxOptions { UpdateTargetId = "MotorBusca" }))
{
  <div class="form-group">
    <div class="jumbotron">
        <h1>AFGT</h1>
        <p class="lead">AFGT guia-te pelo o que ouves! xD</p>
        <div class="row">

                <div class="active" id="Artista">
                    <div class="col-md-10">
                        <input name="ConteudoPesquisa" type="text" class="form-control" placeholder="O que procuras?" />
                    </div>
                </div>

                <div class="hidden" id="Genero">
                    <div class="col-md-10">
                        @Html.Action("Index", "GeneroMusicals", new { id = ViewBag.GeneroMusicalID })
                    </div>
                </div>

                <div class="col-md-10">
                    @Html.DropDownList("ListaPesquisa", new SelectList(ViewBag.ListaPesquisa, "Value", "Text"), new { onchange = @"TipoPesquisa(this.value);" })
                    <button class="btn btn-default">Ir</button>
                </div>
          
        </div>
    </div>

        <div class="row" id="MotorBusca">
            @Html.Partial("ResultadosPesquisa")
        </div>
  </div>
}

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")

    <script>
        $('#option').change(function () {
            var TipoOpcao = $('#option').val();
            if (TipoOpcao == 'Local') {
                $('#Data').removeClass('active').addClass('hidden');
                $('#Local').removeClass('hidden').addClass('active');
            } else {
                $('#Local').removeClass('active').addClass('hidden');
                $('#Data').removeClass('hidden').addClass('active');
            }
        })

        function TipoPesquisa(val) {
            if (val == '2') {
                $('#Artista').removeClass('active').addClass('hidden');
                $('#Genero').removeClass('hidden').addClass('active');
            } else {
                $('#Genero').removeClass('active').addClass('hidden');
                $('#Artista').removeClass('hidden').addClass('active');
            }
        }
    </script>

}